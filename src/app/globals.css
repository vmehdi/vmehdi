@import "tailwindcss";
@custom-variant dark (&:where([data-theme=dark], .dark, [data-theme=dark] *, .dark *));
@custom-variant unicorn (&:where([data-theme=unicorn], .unicorn, [data-theme=unicorn] *, .unicorn *));

/* ===================================
   GLASSMORPHISM DESIGN SYSTEM
   iOS-inspired glass effects with theme support
   =================================== */

@theme {
  /* Global Backgrounds */
  --color-bg-light: oklch(0.98 0.01 247.83);
  /* bg-gray-50 */
  --color-bg-dark: oklch(0.27 0.03 247.83);
  /* bg-gray-800 */
  --color-bg-unicorn: oklch(0.15 0.05 285.0);
  /* Deep purple/black */

  /* Primary Colors */
  --color-primary: oklch(0.6955 0.1871 232.45);
  --color-primary-dark: oklch(0.4471 0.1564 248.31);
  --color-secondary: oklch(0.8235 0.1776 72.6);

  /* Glass Effect Variables */
  --glass-blur: 20px;
  --glass-blur-heavy: 40px;
  --glass-opacity-light: 0.7;
  --glass-opacity-medium: 0.5;
  --glass-opacity-dark: 0.3;

  /* Border Colors for Glass */
  --glass-border-light: rgba(255, 255, 255, 0.18);
  --glass-border-dark: rgba(255, 255, 255, 0.1);
  --glass-border-unicorn: rgba(255, 255, 255, 0.25);

  /* Background Colors for Glass */
  --glass-bg-light: rgba(255, 255, 255, 0.7);
  --glass-bg-dark: rgba(17, 25, 40, 0.75);
  --glass-bg-unicorn: rgba(255, 255, 255, 0.13);

  /* Shadow for Glass Elements */
  --glass-shadow-light: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  --glass-shadow-dark: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
  --glass-shadow-unicorn: 0 8px 32px 0 rgba(139, 92, 246, 0.3);

  /* Animations */
  --animate-aurora: aurora 60s linear infinite;
  --animate-first: moveVertical 30s ease infinite;
  --animate-second: moveInCircle 20s reverse infinite;
  --animate-third: moveInCircle 40s linear infinite;
  --animate-fourth: moveHorizontal 40s ease infinite;
  --animate-fifth: moveInCircle 20s ease infinite;
  --animate-float: float 6s ease-in-out infinite;
  --animate-gradient: gradient-shift 8s ease infinite;
  --animate-magnetic: magnetic 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);

  @keyframes aurora {
    from {
      background-position: 50% 50%, 50% 50%;
    }

    to {
      background-position: 350% 50%, 350% 50%;
    }
  }

  @keyframes moveHorizontal {

    0%,
    100% {
      transform: translateX(-50%) translateY(-10%);
    }

    50% {
      transform: translateX(50%) translateY(10%);
    }
  }

  @keyframes moveInCircle {
    0% {
      transform: rotate(0deg);
    }

    50% {
      transform: rotate(180deg);
    }

    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes moveVertical {

    0%,
    100% {
      transform: translateY(-50%);
    }

    50% {
      transform: translateY(50%);
    }
  }

  @keyframes float {

    0%,
    100% {
      transform: translateY(0px);
    }

    50% {
      transform: translateY(-20px);
    }
  }

  @keyframes gradient-shift {

    0%,
    100% {
      background-position: 0% 50%;
    }

    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes magnetic {
    0% {
      transform: translate(0, 0);
    }

    100% {
      transform: translate(var(--tx), var(--ty));
    }
  }
}

body {
  background-color: var(--color-bg-light);
  color: #1a202c;
  transition: background-color 0.3s ease;

  @variant dark {
    background-color: var(--color-bg-dark);
    color: #f7fafc;
  }

  @variant unicorn {
    background-color: var(--color-bg-unicorn);
    color: #ffffff;
  }
}

/* ===================================
   SMOOTH SCROLL & PERSPECTIVE
   =================================== */

html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }

  * {
    scroll-timeline: --page-scroll block;
    animation-timeline: --page-scroll;
  }
}

/* Add perspective for 3D transforms */
.perspective-container {
  perspective: 1000px;
  perspective-origin: center;
}

/* Enhanced parallax utilities */
@utility parallax-slow {
  transform: translateZ(-1px) scale(2);
}

@utility parallax-fast {
  transform: translateZ(1px) scale(0.8);
}

/* ===================================
   UTILITY CLASSES
   =================================== */


@utility container {
  padding-inline: 0.75rem;
  margin-inline: auto;

  @variant sm {
    padding-inline: 1rem;
  }

  @variant lg {
    padding-inline: 2rem;
  }
}

/* ===================================
   GLASSMORPHISM UTILITIES
   =================================== */

/* Base Glass Effect with Shine */
@utility glass {
  position: relative;
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;

  /* Semi-transparent background */
  background: var(--glass-bg-light);

  /* The "Shine" Border Effect */
  box-shadow: var(--glass-shadow-light), inset 0 0 0 1px rgba(255, 255, 255, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.1);

  @variant dark {
    background: var(--glass-bg-dark);
    box-shadow: var(--glass-shadow-dark), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
    border-color: rgba(0, 0, 0, 0.2);
  }

  @variant unicorn {
    background: var(--glass-bg-unicorn);
    backdrop-filter: blur(var(--glass-blur-heavy));
    -webkit-backdrop-filter: blur(var(--glass-blur-heavy));
    box-shadow: var(--glass-shadow-unicorn), inset 0 0 0 1px rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.15);
  }

  /* Shine highlight top edge */
  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
    z-index: 1;
  }
}

/* Heavy Glass Effect for prominent elements */
@utility glass-heavy {
  @apply glass;
  backdrop-filter: blur(var(--glass-blur-heavy));
  -webkit-backdrop-filter: blur(var(--glass-blur-heavy));
  background: rgba(255, 255, 255, 0.85);

  @variant dark {
    background: rgba(17, 25, 40, 0.9);
  }

  @variant unicorn {
    background: rgba(255, 255, 255, 0.13);
    backdrop-filter: blur(60px);
    -webkit-backdrop-filter: blur(60px);
  }
}

/* Glass with hover effect */
@utility glass-hover {
  @apply glass;

  &:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 20px 40px 0 rgba(31, 38, 135, 0.2), inset 0 0 0 1px rgba(255, 255, 255, 0.6);
    border-color: rgba(255, 255, 255, 0.4);

    @variant dark {
      box-shadow: 0 20px 40px 0 rgba(0, 0, 0, 0.7), inset 0 0 0 1px rgba(255, 255, 255, 0.1);
    }

    @variant unicorn {
      box-shadow: 0 20px 40px 0 rgba(139, 92, 246, 0.6), inset 0 0 0 1px rgba(255, 255, 255, 0.4);
    }
  }
}

/* Backdrop blur utility - simpler usage */
@utility bg-backdrop {
  @apply border backdrop-blur-sm transition-all duration-300;
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.18);

  @variant dark {
    @apply border-white/[0.1] bg-white/[0.08];
  }

  @variant unicorn {
    @apply bg-purple-500/10 text-white border-white/20;
  }
}

/* Interactive gradient background */
@utility interactive-gradient {
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
        rgba(59, 130, 246, 0.15),
        transparent 40%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  &:hover::before {
    opacity: 1;
  }

  @variant dark {
    &::before {
      background: radial-gradient(600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
          rgba(59, 130, 246, 0.25),
          transparent 40%);
    }
  }

  @variant unicorn {
    &::before {
      background: radial-gradient(600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
          rgba(139, 92, 246, 0.3),
          transparent 40%);
    }
  }
}

/* Smooth theme transitions (applied with a utility to avoid global interference) */
@utility theme-transition {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-duration: 0.3s;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Override transition for animations */
.animate-float,
.animate-gradient,
[class*="animate-"] {
  transition: none !important;
}

/* ===================================
   SCROLLBAR STYLING
   =================================== */

@utility scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;

  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.5);
    border-radius: 3px;

    &:hover {
      background: rgba(156, 163, 175, 0.7);
    }
  }

  &.dark::-webkit-scrollbar-thumb {
    background: rgba(75, 85, 99, 0.5);

    &:hover {
      background: rgba(75, 85, 99, 0.7);
    }
  }
}

/* ===================================
   RESPONSIVE UTILITIES
   =================================== */

/* Mobile-first responsive text */
@utility text-responsive {
  @apply text-sm sm:text-base md:text-lg lg:text-xl;
}

@utility heading-responsive {
  @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl;
}

/* Safe area for mobile devices */
@supports (padding: max(0px)) {
  .safe-area-inset {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}